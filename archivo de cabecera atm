#ifndef PRACTICAJA_H
#define PRACTICAJA_H

#include <stdio.h>
#include <string.h>


int validar(float x)
{
    if (x > 0)
    {
        printf("La cantidad ingresada es valida.\n");
        return 1;
    }
    else
    {
        printf("La cantidad ingresada es negativa, ingrese un numero positivo\n");
        return 0;
    }
}


void realizarOperacion(int *operaciones, float *saldoactual, int *bucle)
{
    int num;
    int v;

    printf("\nPor favor ingrese la opcion deseada:\n\n");
    printf("1.- Consulta de saldo\n");
    printf("2.- Depositos\n");
    printf("3.- Retiros\n");
    printf("4.- Salir de la Practicaja\n");
    scanf("%d", operaciones);

    switch (*operaciones)
    {
        case 1:
            consultaSaldo(*saldoactual);
            break;

        case 2:
            depositar(saldoactual);
            break;

        case 3:
            retirar(saldoactual);
            break;

        case 4:
            printf("\nGracias por usar la Practicaja Cucei, tenga un buen dia.\n");
            *bucle = 2;
            break;

        default:
            printf("La opcion ingresada no es correcta.\n");
    }

    printf("\nDesea realizar alguna otra operacion?\n");
    printf("1.- Si\n");
    printf("2.- No\n");
    scanf("%d", bucle);
}


void consultaSaldo(float saldoactual)
{
    printf("=========CONSULTA DE SALDO==========\n");
    printf("Su saldo actual es de: %.2f\n", saldoactual);
}


void depositar(float *saldoactual)
{
    float num;
    int v;

    printf("=========DEPOSITOS==========\n");
    printf("Ingrese la cantidad que desea depositar: \n");
    scanf("%f", &num);


    v = validar(num);
    while (v != 1)
    {
        printf("Ingrese una cantidad positiva para depositar: \n");
        scanf("%f", &num);
        v = validar(num);
    }

    *saldoactual += num;
    printf("Su deposito se realizo con exito. El saldo actual es: %.2f\n", *saldoactual);
}


void retirar(float *saldoactual)
{
    float num;
    int v;

    printf("=========RETIROS==========\n");
    printf("Ingrese la cantidad que desea retirar: \n");
    scanf("%f", &num);

    v = validar(num);
    while (v != 1 || num > *saldoactual)
    {
        if (num > *saldoactual)
        {
            printf("Pero no tienes esa cantidad, por favor ingrese una cantidad que tengas:\n");
        }
        printf("Ingrese una cantidad positiva para retirar: \n");
        scanf("%f", &num);
        v = validar(num);
    }

    *saldoactual -= num;
    printf("Su retiro se realizo con exito. La cantidad restante en su cuenta es: %.2f\n", *saldoactual);
}

#endif // PRACTICAJA_H
